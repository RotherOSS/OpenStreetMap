<?xml version="1.0" encoding="utf-8" ?>
<otobo_config version="2.0" init="Application">
    <Setting Name="OpenStreetMap::ShowForClasses" Required="0" Valid="1">
        <Description Translatable="1">For which classes the map is displayed.</Description>
        <Navigation>Core::OpenStreetMap</Navigation>
        <Value>
            <Hash>
                <Item Key="ITSMConfigItem::Subsidiary">1</Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="OpenStreetMap::IncidentStateColors" Required="0" Valid="1">
        <Description Translatable="1">Color representation of incident states on the map.</Description>
        <Navigation>Core::OpenStreetMap</Navigation>
        <Value>
            <Hash>
                <Item Key="Operational">#22e5a0</Item>
                <Item Key="Warning">#e0d040</Item>
                <Item Key="Incident">#ff3000</Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="Loader::Module::AgentOpenStreetMap###437-OSM" Required="0" Valid="1">
        <Description Translatable="1">Loader module registration for the agent interface.</Description>
        <Navigation>Frontend::Agent::ModuleRegistration::Loader</Navigation>
        <Value>
            <Hash>
                <Item Key="JavaScript">
                    <Array>
                        <Item>Core.OpenStreetMap.js</Item>
                    </Array>
                </Item>
                <Item Key="CSS">
                    <Array>
                        <Item>Core.OpenStreetMap.css</Item>
                    </Array>
                </Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="Loader::Module::CustomerOpenStreetMap###437-OSM" Required="0" Valid="1">
        <Description Translatable="1">Loader module registration for the customer interface.</Description>
        <Navigation>Frontend::Customer::ModuleRegistration::Loader</Navigation>
        <Value>
            <Hash>
                <Item Key="JavaScript">
                    <Array>
                        <Item>Core.OpenStreetMap.js</Item>
                    </Array>
                </Item>
                <Item Key="CSS">
                    <Array>
                        <Item>Core.OpenStreetMap.css</Item>
                    </Array>
                </Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="Loader::Module::AgentDashboard###437-OSM" Required="0" Valid="1">
        <Description Translatable="1">Loader module registration for the agent interface.</Description>
        <Navigation>Frontend::Agent::ModuleRegistration::Loader</Navigation>
        <Value>
            <Hash>
                <Item Key="JavaScript">
                    <Array>
                        <Item>Core.OpenStreetMap.js</Item>
                    </Array>
                </Item>
                <Item Key="CSS">
                    <Array>
                        <Item>Core.OpenStreetMap.css</Item>
                    </Array>
                </Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="Loader::Module::CustomerDashboard###437-OSM" Required="0" Valid="1">
        <Description Translatable="1">Loader module registration for the customer interface.</Description>
        <Navigation>Frontend::Customer::ModuleRegistration::Loader</Navigation>
        <Value>
            <Hash>
                <Item Key="JavaScript">
                    <Array>
                        <Item>Core.OpenStreetMap.js</Item>
                    </Array>
                </Item>
                <Item Key="CSS">
                    <Array>
                        <Item>Core.OpenStreetMap.css</Item>
                    </Array>
                </Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="Loader::Module::AgentITSMConfigItemZoom###437-OSM" Required="0" Valid="1">
        <Description Translatable="1">Loader module registration for the agent interface.</Description>
        <Navigation>Frontend::Agent::ModuleRegistration::Loader</Navigation>
        <Value>
            <Hash>
                <Item Key="JavaScript">
                    <Array>
                        <Item>Core.OpenStreetMap.js</Item>
                    </Array>
                </Item>
                <Item Key="CSS">
                    <Array>
                        <Item>Core.OpenStreetMap.css</Item>
                    </Array>
                </Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="Frontend::Module###AgentOpenStreetMap" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Navigation>Frontend::Agent::ModuleRegistration</Navigation>
        <Value>
            <Item ValueType="FrontendRegistration">
                <Hash>
                    <Item Key="GroupRo">
                        <Array>
                        </Array>
                    </Item>
                    <Item Key="Group">
                        <Array>
                        </Array>
                    </Item>
                    <Item Key="Description">OpenStreetMap</Item>
                    <Item Key="Title" Translatable="1">OpenStreetMap</Item>
                    <Item Key="NavBarName">CMDB</Item>
                </Hash>
            </Item>
        </Value>
    </Setting>
    <Setting Name="Frontend::Navigation###AgentITSMConfigItem###004-OpenStreetMap" Required="0" Valid="1">
        <Description Translatable="1">Main menu item registration.</Description>
        <Navigation>Frontend::Agent::ModuleRegistration::MainMenu</Navigation>
        <Value>
            <Array>
                <DefaultItem ValueType="FrontendNavigation">
                    <Hash>
                    </Hash>
                </DefaultItem>
                <Item>
                    <Hash>
                        <Item Key="Group">
                            <Array>
                            </Array>
                        </Item>
                        <Item Key="GroupRo">
                            <Array>
                                <Item>itsm-configitem</Item>
                            </Array>
                        </Item>
                        <Item Key="Description" Translatable="1">OpenStreetMap</Item>
                        <Item Key="Name">Map</Item>
                        <Item Key="Link">Action=AgentOpenStreetMap</Item>
                        <Item Key="LinkOption"></Item>
                        <Item Key="NavBar">Config Item</Item>
                        <Item Key="Type"></Item>
                        <Item Key="Block"></Item>
                        <Item Key="AccessKey"></Item>
                        <Item Key="Prio">210</Item>
                    </Hash>
                </Item>
            </Array>
        </Value>
    </Setting>
    <Setting Name="CustomerFrontend::Module###CustomerOpenStreetMap" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Navigation>Frontend::Customer::ModuleRegistration</Navigation>
        <Value>
            <Item ValueType="FrontendRegistration">
                <Hash>
                    <Item Key="GroupRo">
                        <Array>
                        </Array>
                    </Item>
                    <Item Key="Group">
                        <Array>
                        </Array>
                    </Item>
                    <Item Key="Description">OpenStreetMap</Item>
                    <Item Key="Title" Translatable="1">OpenStreetMap</Item>
                    <Item Key="NavBarName">Map</Item>
                </Hash>
            </Item>
        </Value>
    </Setting>
    <Setting Name="CustomerFrontend::Navigation###CustomerOpenStreetMap###002-OpenStreetMap" Required="0" Valid="1">
        <Description Translatable="1">Main menu item registration.</Description>
        <Navigation>Frontend::Customer::ModuleRegistration::MainMenu</Navigation>
        <Value>
            <Array>
                <DefaultItem ValueType="FrontendNavigation">
                    <Hash>
                    </Hash>
                </DefaultItem>
                <Item>
                    <Hash>
                        <Item Key="Group">
                            <Array>
                            </Array>
                        </Item>
                        <Item Key="GroupRo">
                            <Array>
                            </Array>
                        </Item>
                        <Item Key="Description" Translatable="1">Show the OpenStreetMap</Item>
                        <Item Key="Name" Translatable="1">Map</Item>
                        <Item Key="Link">Action=CustomerOpenStreetMap</Item>
                        <Item Key="LinkOption"></Item>
                        <Item Key="NavBar">Map</Item>
                        <Item Key="Type">Menu</Item>
                        <Item Key="Block"></Item>
                        <Item Key="AccessKey">o</Item>
                        <Item Key="Prio">720</Item>
                        <Item Key="svgIcon">var/httpd/htdocs/skins/Customer/default/img/map.svg</Item>
                    </Hash>
                </Item>
            </Array>
        </Value>
    </Setting>
    <Setting Name="DashboardBackend###0002-OpenStreetMap" Required="0" Valid="1">
        <Description Translatable="1">Parameters for the OpenStreetMap dashboard backend.</Description>
        <Navigation>Frontend::Agent::View::Dashboard</Navigation>
        <Value>
            <Hash>
                <Item Key="Module">Kernel::Output::HTML::Dashboard::OpenStreetMap</Item>
                <Item Key="Title" Translatable="1">OpenStreetMap</Item>
                <Item Key="Description" Translatable="1">OpenStreetMap with ConfigItems and Customers.</Item>
                <Item Key="CacheTTLLocal">1440</Item>
                <Item Key="Block">ContentLarge</Item>
                <Item Key="Group"></Item>
                <Item Key="Default">1</Item>
                <Item Key="Mandatory">0</Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="Frontend::Output::FilterElementPost###OutputFilterPostOpenStreetMapCIWidget" Required="0" Valid="1">
        <Description Translatable="1">Output filter to add an OpenStreetMap widget to the AgentITSMConfigItemZoom screen.</Description>
        <Navigation>Frontend::Base::OutputFilter</Navigation>
        <Value>
            <Hash>
                <Item Key="Module">Kernel::Output::HTML::FilterElementPost::OpenStreetMapCIWidget</Item>
                <Item Key="Templates">
                    <Hash>
                        <Item Key="AgentITSMConfigItemZoom">1</Item>
                    </Hash>
                </Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="OpenStreetMap::ClassConfig###029" Required="0" Valid="0">
        <Description Translatable="1">Configurates Backend information for each class. LocationInfo can contain either SourceKeys for Latitude and Longitude or Linked Classes which provide those. LineColor can be either "#rgb" (e.g. "#ff0000"), or "DeploymentState" or "IncidentState", to match the specific color.</Description>
        <Navigation>Core::OpenStreetMap::ClassConfig</Navigation>
        <Value>
            <Hash>
                <Item Key="Class">Subsidiary</Item>
                <Item Key="Backend">Kernel::System::OpenStreetMap::Location</Item>
                <Item Key="IconPath">/otobo-web/skins/Agent/default/img/Location.svg</Item>
                <Item Key="IconOverride">BasicCIInfo01</Item>
                <Item Key="LocationInfo">
                    <Hash>
                        <Item Key="SourceKeys">
                            <Hash>
                                <Item Key="Latitude">Location-Latitude</Item>
                                <Item Key="Longitude">Location-Longitude</Item>
                            </Hash>
                        </Item>
                        <Item Key="LinkedClasses">
                            <Array></Array>
                        </Item>
                    </Hash>
                </Item>
                <Item Key="LineWidth"></Item>
                <Item Key="LineColor"></Item>
                <Item Key="LinkSelf">1</Item>
                <Item Key="Tooltip">1</Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="OpenStreetMap::ActionConfig###001" Required="0" Valid="1">
        <Description Translatable="1">Configurates how the map is presented for a given action.</Description>
        <Navigation>Core::OpenStreetMap::ActionConfig</Navigation>
        <Value>
            <Hash>
                <Item Key="Action">AgentITSMConfigItemZoom</Item>
                <Item Key="Show">
                    <Array>
                        <Item>Self</Item>
                    </Array>
                </Item>
                <Item Key="Margin">0.2</Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="OpenStreetMap::ActionConfig###002" Required="0" Valid="0">
        <Description Translatable="1">Configurates how the map is presented for a given action.</Description>
        <Navigation>Core::OpenStreetMap::ActionConfig</Navigation>
        <Value>
            <Hash>
                <Item Key="Action">AgentDashboard</Item>
                <Item Key="Show">
                    <Array>
                        <Item>Location</Item>
                        <Item>Line</Item>
                    </Array>
                </Item>
                <Item Key="Margin">0.4</Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="OpenStreetMap::ActionConfig###003" Required="0" Valid="0">
        <Description Translatable="1">Configurates how the map is presented for a given action.</Description>
        <Navigation>Core::OpenStreetMap::ActionConfig</Navigation>
        <Value>
            <Hash>
                <Item Key="Action">AgentOpenStreetMap</Item>
                <Item Key="Show">
                    <Array>
                        <Item>Subsidiary</Item>
                    </Array>
                </Item>
                <Item Key="Margin">1.2</Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="OpenStreetMap::ActionConfig###004" Required="0" Valid="0">
        <Description Translatable="1">Configurates how the map is presented for a given action.</Description>
        <Navigation>Core::OpenStreetMap::ActionConfig</Navigation>
        <Value>
            <Hash>
                <Item Key="Action">CustomerDashboard</Item>
                <Item Key="Show">
                    <Array>
                        <Item>Location</Item>
                    </Array>
                </Item>
                <Item Key="Margin">0.4</Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="OpenStreetMap::ActionConfig###005" Required="0" Valid="0">
        <Description Translatable="1">Configurates how the map is presented for a given action.</Description>
        <Navigation>Core::OpenStreetMap::ActionConfig</Navigation>
        <Value>
            <Hash>
                <Item Key="Action">CustomerOpenStreetMap</Item>
                <Item Key="Show">
                    <Array>
                        <Item>Location</Item>
                    </Array>
                </Item>
                <Item Key="Margin">1.4</Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="OpenStreetMap::IconOverride###BasicCIInfo01" Required="0" Valid="1">
        <Description Translatable="1">Overrides the default icon based on config item information. Define "States" and assign "IconPaths" to them.</Description>
        <Navigation>Core::OpenStreetMap</Navigation>
        <Value>
            <Hash>
                <Item Key="Module">Kernel::System::OpenStreetMap::Icons::BasicCIInfo</Item>
                <Item Key="States">
                    <Hash>
                        <DefaultItem>
                            <Hash>
                            </Hash>
                        </DefaultItem>
                        <Item Key="Danger">
                            <Hash>
                                <Item Key="CurInciState">Incident</Item>
                                <Item Key="CurDeplState">Production</Item>
                            </Hash>
                        </Item>
                    </Hash>
                </Item>
                <Item Key="IconPaths">
                    <Hash>
                        <Item Key="Danger">/otobo-web/skins/Agent/default/img/LocationRed.svg</Item>
                    </Hash>
                </Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="CustomerDashboard::Tiles###OpenStreetMap" Required="0" Valid="0">
        <Description Translatable="1">Tile registration for the CustomerDashboard. Module is required.</Description>
        <Navigation>Frontend::Customer::View::Dashboard::Tiles</Navigation>
        <Value>
            <Hash>
                <Item Key="Order">7</Item>
                <Item Key="Template">Dashboard/TileOSMCanvas</Item>
                <Item Key="Config">
                    <Hash>
                    </Hash>
                </Item>
            </Hash>
        </Value>
    </Setting>

    <!-- Ticket Specific configs -->
    
    <Setting Name="OpenStreetMap::ActionConfig###006" Required="0" Valid="1">
        <Description Translatable="1">Configurates how the map is presented for a given action.</Description>
        <Navigation>Core::OpenStreetMap::ActionConfig</Navigation>
        <Value>
            <Hash>
                <Item Key="Action">AgentTicketOpenStreetMap</Item>
                <Item Key="Show">
                    <Array>
                        <Item>Subsidiary</Item>
                    </Array>
                </Item>
                <Item Key="Margin">1.4</Item>
                <Item Key="Queues">
                    <Array>
                    </Array>
                </Item>
                <Item Key="TicketTypes">
                    <Array>
                    </Array>
                </Item>
            </Hash>
        </Value>
    </Setting>
    <Setting Name="Frontend::Module###AgentTicketOpenStreetMap" Required="0" Valid="1">
        <Description Translatable="1">Frontend module registration for the agent interface.</Description>
        <Navigation>Frontend::Agent::ModuleRegistration</Navigation>
        <Value>
            <Item ValueType="FrontendRegistration">
                <Hash>
                    <Item Key="GroupRo">
                        <Array>
                        </Array>
                    </Item>
                    <Item Key="Group">
                        <Array>
                        </Array>
                    </Item>
                    <Item Key="Description">TicketOpenStreetMap</Item>
                    <Item Key="Title" Translatable="1">OpenStreetMap</Item>
                    <Item Key="NavBarName">CMDB</Item>
                </Hash>
            </Item>
        </Value>
    </Setting>
    <Setting Name="Loader::Module::AgentTicketOpenStreetMap###437-OSM" Required="0" Valid="1">
        <Description Translatable="1">Loader module registration for the agent interface.</Description>
        <Navigation>Frontend::Agent::ModuleRegistration::Loader</Navigation>
        <Value>
            <Hash>
                <Item Key="JavaScript">
                    <Array>
                        <Item>Core.OpenStreetMap.js</Item>
                    </Array>
                </Item>
                <Item Key="CSS">
                    <Array>
                        <Item>Core.OpenStreetMap.css</Item>
                    </Array>
                </Item>
            </Hash>
        </Value>
    </Setting>

    <Setting Name="Frontend::Navigation###AgentTicketOpenStreetMap###005-TicketOpenStreetMap" Required="0" Valid="1">
        <Description Translatable="1">Main menu item registration.</Description>
        <Navigation>Frontend::Agent::ModuleRegistration::MainMenu</Navigation>
        <Value>
            <Array>
                <DefaultItem ValueType="FrontendNavigation">
                    <Hash>
                    </Hash>
                </DefaultItem>
                <Item>
                    <Hash>
                        <Item Key="Group">
                            <Array>
                            </Array>
                        </Item>
                        <Item Key="GroupRo">
                            <Array>
                            </Array>
                        </Item>
                        <Item Key="Description" Translatable="1">AgentTicketOpenStreetMap</Item>
                        <Item Key="Name">Ticket Map</Item>
                        <Item Key="Link">Action=AgentTicketOpenStreetMap</Item>
                        <Item Key="LinkOption"></Item>
                        <Item Key="NavBar">Ticket</Item>
                        <Item Key="Type"></Item>
                        <Item Key="Block"></Item>
                        <Item Key="AccessKey"></Item>
                        <Item Key="Prio">400</Item>
                    </Hash>
                </Item>
            </Array>
        </Value>
    </Setting>

</otobo_config>
